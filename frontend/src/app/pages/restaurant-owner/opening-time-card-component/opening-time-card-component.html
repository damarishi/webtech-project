<div class="flex flex-col w-full justify-center items-center p-2">

  @if(timesForm && timesForm.length === 0){
    <h1 class="text-1xl font-semibold text-center">No Opening Times Set</h1>
  }
  @else{
    @for (time of timesForm; track time.opening_time_id;) {
      <div class="row">
        <select [(ngModel)]="time.weekday" name="weekday">
          @for(w of dayList; track weekdays[w]){
            <option [ngValue]="w">{{weekdays[w]}}</option>
          }
        </select>
        <input [(ngModel)]="time.open_time" type="time" />
        <input [(ngModel)]="time.close_time" type="time" />

        <button class="delete-btn" (click)="delete($index)">âœ•</button>
        <button class="save-btn" (click)="save($index)"
                [disabled]="!time.weekday || !time.open_time || !time.close_time || time.open_time >= time.close_time"
        >Save</button>
      </div>
    }
  }
  <div class="row new">
    <select [(ngModel)]="newTimeForm.weekday" name="weekday">
      @for(w of dayList; track weekdays[w]){
        <option [ngValue]="w">{{weekdays[w]}}</option>
      }
    </select>
    <input [(ngModel)]="newTimeForm.open_time" type="time" />
    <input [(ngModel)]="newTimeForm.close_time" type="time" />

    <button class="add-btn" (click)="addNew()"
    [disabled]="!newTimeForm.weekday || newTimeForm.weekday < 1 || newTimeForm.weekday > 7 ||
    newTimeForm.open_time >= newTimeForm.close_time">Add</button>
  </div>

</div>

