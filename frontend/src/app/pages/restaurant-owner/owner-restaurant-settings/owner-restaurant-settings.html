<div class="flex flex-col w-full justify-center items-center p-2">
  <select class=" justify-center items-center p-2" (change)="loadSettings()" [(ngModel)]="mode">
    @for(s of Object.values(settings); track s){
      <option [value]="s">{{s}}</option>
    }
  </select>
  @if(loading){
    <div class="spinner-overlay">
      <div class="spinner"></div>
    </div>
  }
  @if(!loading && unavailable){
    <h1 class="text-1xl font-semibold text-center">Restaurant Request may Still be pending</h1>
  }
  @if(!loading && !unavailable){
    @switch (mode){
      @case(settings.RESTAURANT){
        <div class="Restaurant_Editing">
          <h1 class="text-2xl font-semibold text-center">Edit Restaurant</h1>
          <owner-restaurant-component [restaurant]="restaurant!" (updateSuccess)="loadSettings()"></owner-restaurant-component>

        </div>
      }
      @case(settings.TIME){
        <div class="Times Editing">
          <h1 class="text-2xl font-semibold text-center">Edit Opening Times</h1>
          <opening-time-card-component [times]="openingTimes!" (updateSuccess)="loadSettings()"></opening-time-card-component>
        </div>
      }
      @case(settings.ITEMS){
        <div class="Items Editing">
          <h1 class="text-2xl font-semibold text-center">Edit Items</h1>
          <button class="category-positon-btn text-2xl font-semibold text-center" (click)="saveCategoryPositions()">Save Positions</button>
          <div cdkDropList class="card-list" (cdkDropListDropped)="drop($event)">
            @for(c of categories; track c.category_id){
              <category-card-component [category]="c" [items]="getItemByCategory(c)" [tags]="tags!" (updateSuccess)="loadSettings()" cdkDrag></category-card-component>
            }
          </div>

        </div>
      }
      @default {
        <div class ="Empty-Settings">
          <h1 class="text-2xl font-semibold text-center">No Settings Available</h1>
        </div>
      }
    }
  }
</div>





