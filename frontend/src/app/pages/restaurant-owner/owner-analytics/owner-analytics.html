<div class="flex flex-col w-full justify-center items-center p-2">
  @if(loading){
    <div class="spinner-overlay">
      <div class="spinner"></div>
    </div>
  }
  @if(!loading && unavailable){
    <h1 class="text-1xl font-semibold text-center">Restaurant Request may Still be pending</h1>
  }
  @if(!loading && !unavailable){
    <div class="analytics-container w-full max-w-4xl">
      <div class="flex justify-center w-full">
        <div class="revenue-container w-fit">
          <h2 class="text-neutral-800 text-1xl font-semibold">Total Revenue: {{totalRevenue | currency:'EUR'}}</h2>
        </div>
      </div>


      <div class="chart-container">
        <div class="top-items-container">
          <h3>Top Items</h3>
          @for(item of topItems | slice:0:5;track item.item.item_id){
            <div class="top-item">
              <p class="text-neutral-800 font-semibold">{{$index +1}}. {{item.item.name}} (x{{item.count}})</p>
            </div>
          }
        </div>
        <div class="chart-item">
          <h3>Daily Orders</h3>
          <canvas baseChart
                  [data]="dailyChartData"
                  [options]="chartOptions"
                  [type]="'bar'">
          </canvas>
        </div>

        <div class="chart-item">
          <h3>Weekly Orders</h3>
          <canvas baseChart
                  [data]="weeklyChartData"
                  [options]="chartOptions"
                  [type]="'bar'">
          </canvas>
        </div>
      </div>
    </div>
  }
</div>

