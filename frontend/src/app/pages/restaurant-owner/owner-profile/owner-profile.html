<div class="content-center">
<mat-form-field appearance="fill">
    <mat-label>Change Role</mat-label>
    <mat-select [(value)]="newRole" (selectionChange)="onRoleChange()">
      @for (role of Object.values(UserRoles); track role) {
        <mat-option [value]="role">{{role}}</mat-option>
      }
    </mat-select>
 </mat-form-field>
</div>
<div class="flex flex-col w-full justify-center">
  @if (user$ | async; as user) {
    <section class="profile-card">
      <form #f="ngForm" (ngSubmit)="save()">

        <div class="form-group">
          <label>Username</label>
          <input
            type="text"
            name="username"
            [(ngModel)]="form!.username"
            required
          />
        </div>

        <div class="form-group">
          <label>Email</label>
          <input
            type="email"
            [value]="user.email"
            disabled
          />
        </div>

        <div class="form-group">
          <label>Full name</label>
          <input
            type="text"
            name="full_name"
            [(ngModel)]="form!.full_name"
          />
        </div>
        <div class="flex flex-row gap-3">
        <div class="form-group">
          <label>Location X</label>
          <input
            type="number"
            name="locationX"
            [(ngModel)]="form!.location!.x"
          />
        </div>

        <div class="form-group">
          <label>Location Y</label>
          <input
            type="number"
            name="locationY"
            [(ngModel)]="form!.location!.y"
          />
        </div>
        </div>

        <button type="submit" [disabled]="f.invalid ||!form!.location.x || !form!.location.y ||
         !form!.full_name || !form!.username">
          Save changes
        </button>

      </form>
    </section>
  }
</div>
